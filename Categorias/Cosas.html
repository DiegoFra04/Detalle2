<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosas que me gustan de ti </title>
    <link rel="stylesheet" href="css/cosas.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Estilos adicionales para ocultar/mostrar mensajes */
        .jupiter-message,
        .memory-message,
        .maze-message,
        .puzzle-message {
            display: none;
        }
        
        .jupiter-message.show,
        .memory-message.show,
        .maze-message.show,
        .puzzle-message.show {
            display: block;
            animation: fadeInUp 0.8s ease forwards;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    
    <!-- Header igual al inicio -->
    <header class="floral-header">
        <div class="header-overlay">
            <a href="resumido.html" class="resumido-btn">
                <i class="fas fa-compress-alt"></i> Resumido
            </a>
            <div class="header-content">
                <div class="water-title-container">
                    <h1 class="cursive-title water-text">Todo lo que me gusta de Mich <span class="water-hearts"></span></h1>
                    <div class="water-effect"></div>
                    <div class="water-effect water-effect-2"></div>
                    <div class="water-effect water-effect-3"></div>
                </div>
                <p class="subtitle">Una p谩gina hecha con cari帽o para alguien especial</p>
                <div class="floral-decoration">
                    <i class="fas fa-heart water-drop"></i>
                    <i class="fas fa-star water-drop"></i>
                    <i class="fas fa-heart water-drop"></i>
                </div>
            </div>
        </div>
        <div class="floral-border"></div>
    </header>

    <main>
        <nav class="soft-menu">
          <a class="menu-btn" href="../index.html"><i class="fas fa-home"></i><span>Inicio</span></a>
          <a class="menu-btn active" href="Cosas.html"><i class="fas fa-heart"></i><span>Cosas que me gustan</span></a>
          <a class="menu-btn" href="Anotaciones.html"><i class="fas fa-book"></i><span>Anotaciones</span></a>
        </nav>
        
        <!-- Contenedor principal ordenado -->
        <div class="galaxy-container">
            <!-- Introducci贸n -->
            <section class="intro-section">
                <h2 class="main-title">Todo lo que me gusta de ti</h2>
                <p class="intro-text">En esta seccion te hice unos minijuegos y cosas interactivas que hablan sobre las cosas que me gustan de ti.</p>
            </section>

            <!-- Nube de cualidades flotantes - ARREGLADO PARA MEJOR DISPOSICIN -->
            <section class="qualities-section">
                <h3 class="section-subtitle">Lo que me enamoro</h3>
                <div class="floating-qualities-container">
                    <div class="qualities-grid">
                        <!-- Fila 1 -->
                        <div class="quality-particle" style="--delay: 0s;">
                            <span class="quality-emoji"></span>
                            <span class="quality-text">Tu carita</span>
                        </div>
                        
                        <div class="quality-particle" style="--delay: 0.2s;">
                            <span class="quality-emoji"></span>
                            <span class="quality-text">Tu corazon</span>
                        </div>
                        
                        <div class="quality-particle" style="--delay: 0.4s;">
                            <span class="quality-emoji">ズ</span>
                            <span class="quality-text">Tu ternura</span>
                        </div>
                        
                        <!-- Fila 2 -->
                        <div class="quality-particle" style="--delay: 0.6s;">
                            <span class="quality-emoji"></span>
                            <span class="quality-text">Tu interes</span>
                        </div>
                        
                        <div class="quality-particle center-piece" style="--delay: 0.8s;">
                            <span class="quality-emoji"></span>
                            <span class="quality-text">tu voz</span>
                        </div>
                        
                        <div class="quality-particle" style="--delay: 1s;">
                            <span class="quality-emoji"></span>
                            <span class="quality-text">Tu sonrisa</span>
                        </div>
                    </div>
                </div>
                <div class="qualities-counter">
                    <span class="counter-text">Toca cada esfera para que palpite, como mi corazon cuando te veo</span>
                </div>
            </section>

            <!-- J煤piter con anillo alrededor del coraz贸n - ARREGLADA LA EXPLOSIN Y CORAZONES EN LNEA -->
            <section class="jupiter-section">
                <h3 class="section-subtitle">Seccion jupiter(Que me haces sentir)</h3>
                <div class="jupiter-container">
                    <div class="jupiter-planet">
                        <div class="jupiter-surface">
                            <div class="jupiter-bands">
                                <div class="band band-1"></div>
                                <div class="band band-2"></div>
                                <div class="band band-3"></div>
                                <div class="band band-4"></div>
                            </div>
                            <div class="jupiter-heart"></div>
                        </div>
                        <div class="jupiter-ring">
                            <div class="ring-particle" style="--angle: 0deg" data-clicked="false">Felicidad</div>
                            <div class="ring-particle" style="--angle: 45deg" data-clicked="false">Confianza</div>
                            <div class="ring-particle" style="--angle: 90deg" data-clicked="false">Emocion</div>
                            <div class="ring-particle" style="--angle: 135deg" data-clicked="false">Motivacion</div>
                            <div class="ring-particle" style="--angle: 180deg" data-clicked="false">Amor</div>
                            <div class="ring-particle" style="--angle: 225deg" data-clicked="false">Nervios</div>
                            <div class="ring-particle" style="--angle: 270deg" data-clicked="false">Calidez</div>
                            <div class="ring-particle" style="--angle: 315deg" data-clicked="false">Autoestima</div>
                        </div>
                    </div>
                    <div class="jupiter-progress">
                        <div class="progress-text">
                            <span class="progress-count">0/8</span> sentimientos descubiertas
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <p class="jupiter-instruction"><small>隆Descubre todos los sentimientos dandoles click!</small></p>
                    </div>
                    <!-- Mensaje oculto inicialmente -->
                    <div class="jupiter-message">
                        <p>Como J煤piter, eres el planeta m谩s importante de mi galaxia</p>
                    </div>
                </div>
            </section>

            <!-- MEMORAMA SIMPLIFICADO (4x4) CON IMGENES -->
            <section class="memory-section">
                <h3 class="section-subtitle">Memorama de fotos que me has mandado</h3>
                <div class="memory-container">
                    <div class="memory-info">
                        <p>Encuentra las parejas de cada foto</p>
                        <div class="memory-stats">
                            <div class="stat">
                                <span class="stat-label">Parejas encontradas:</span>
                                <span class="stat-value" id="matches">0/8</span>
                            </div>
                        </div>
                        <button id="resetMemory" class="memory-btn">
                            <i class="fas fa-redo"></i> Reiniciar
                        </button>
                    </div>
                    <div class="memory-game">
                        <!-- Grid 4x4 generado din谩micamente -->
                    </div>
                    <!-- Mensaje oculto inicialmente -->
                    <div class="memory-message">
                        <h4>隆Felicidades!</h4>
                        <p>Has encontrado algunas de las fotos que has compartido conmigo. Cada foto la aprecio mucho y son un tesoro para mi.</p>
                        <div class="celebration">
                            <i class="fas fa-heart"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Olas de admiraci贸n MEJORADAS (m谩s movimiento) -->
            <section class="waves-section">
                <h3 class="section-subtitle">Olas(Momentos que no olvidare) </h3>
                <div class="wave-container">
                    <div class="wave-content">
                        <p class="wave-instruction">隆Toca cualquier ola para liberar corazones!</p>
                        <div class="waves">
                            <div class="wave" style="--wave-delay: 0s">
                                <div class="wave-text">La fecha cuando te conoci (24/12/2025)</div>
                            </div>
                            <div class="wave" style="--wave-delay: 0.3s">
                                <div class="wave-text">Tu primer te quiero</div>
                            </div>
                            <div class="wave" style="--wave-delay: 0.6s">
                                <div class="wave-text">Cuando nos agarramos de la mano por primera vez</div>
                            </div>
                            <div class="wave" style="--wave-delay: 0.9s">
                                <div class="wave-text">La primera vez que salimos y nos conocimos</div>
                            </div>
                        </div>
                    </div>
                    <div id="heart-container"></div>
                </div>
            </section>

            <!-- Laberinto CORREGIDO (timer empieza al mover) -->
            <section class="maze-section">
                <h3 class="section-subtitle">El laberinto de mi coraz贸n</h3>
                <div class="maze-container">
                    <div class="maze-instructions">
                        <p>Gu铆a el coraz贸n desde el inicio (わ) hasta la salida () usando las flechas del teclado</p>
                        <div class="maze-stats">
                            <div class="stat">
                                <span class="stat-label">Movimientos:</span>
                                <span class="stat-value" id="moves">0</span>
                            </div>
                            <div class="stat">
                                <span class="stat-label">Tiempo:</span>
                                <span class="stat-value" id="timer">00:00</span>
                            </div>
                        </div>
                        <button id="resetMaze" class="maze-btn">
                            <i class="fas fa-redo"></i> Reiniciar
                        </button>
                    </div>
                    <div class="maze-game">
                        <div class="maze-grid">
                            <!-- Laberinto generado din谩micamente -->
                        </div>
                        <div class="maze-player">わ</div>
                        <div class="maze-start"></div>
                        <div class="maze-exit"></div>
                    </div>
                    <div class="maze-difficulty">
                        <span class="difficulty-label">Dificultad:</span>
                        <span class="difficulty-value">AMOROSA</span>
                    </div>
                    <!-- Mensaje oculto inicialmente -->
                    <div class="maze-message">
                        <h4>隆Has escapado del laberinto!</h4>
                        <p>Gracias a ti mi corazon salio del laberinto y te encontre a ti para hacerme feliz y enamorame, gracias por ser muy linda y compartir tu vida comigo.</p>
                        <div class="celebration">
                            <i class="fas fa-heart"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PUZZLE de coraz贸n INTERCAMBIABLE -->
            <section class="puzzle-section">
                <h3 class="section-subtitle">Puzzle de amor</h3>
                <div class="puzzle-container">
                    <div class="puzzle-info">
                        <p>Arma tu foto arrastrando las piezas a su posici贸n correcta. Puedes intercambiar piezas ya colocadas.</p>
                        <div class="puzzle-stats">
                            <div class="stat">
                                <span class="stat-label">Piezas colocadas:</span>
                                <span class="stat-value" id="piecesPlaced">0/9</span>
                            </div>
                        </div>
                        <button id="resetPuzzle" class="puzzle-btn">
                            <i class="fas fa-redo"></i> Reiniciar
                        </button>
                    </div>
                    <div class="puzzle-area">
                        <div class="puzzle-pieces-container">
                            <div class="puzzle-pieces">
                                <!-- Piezas del puzzle generadas din谩micamente -->
                            </div>
                        </div>
                        <div class="puzzle-board">
                            <!-- rea para armar el puzzle -->
                        </div>
                    </div>
                    <!-- Mensaje oculto inicialmente -->
                    <div class="puzzle-message">
                        <h4>隆Puzzle completado!</h4>
                        <p>Has armado el puzzle, asi como las piezas encajan perfectamente, tmb lo hace mi vida cuando estoy contigo.</p>
                        <div class="celebration">
                            <i class="fas fa-heart"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secci贸n de pregunta con 4 opciones (TODAS SON CORRECTAS AHORA) -->
            <section class="question-section">
                <h3 class="section-subtitle">Pregunta especial para ti</h3>
                <div class="question-container">
                    <div class="question-content">
                        <i class="fas fa-quote-left question-quote"></i>
                        <p class="question-text">驴Quien es la que me hace mas feliz?</p>
                        <i class="fas fa-quote-right question-quote"></i>
                    </div>
                    
                    <div class="options-container">
                        <div class="option" data-correct="true">
                            <div class="option-number">1</div>
                            <div class="option-text">Tu(mich)</div>
                            <div class="option-feedback">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        
                        <div class="option" data-correct="true">
                            <div class="option-number">2</div>
                            <div class="option-text">Michelle</div>
                            <div class="option-feedback">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        
                        <div class="option" data-correct="true">
                            <div class="option-number">3</div>
                            <div class="option-text">Grethel</div>
                            <div class="option-feedback">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                        
                        <div class="option" data-correct="true">
                            <div class="option-number">4</div>
                            <div class="option-text">Mi ni帽a hermosa</div>
                            <div class="option-feedback">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="question-result" id="questionResult">
                        <h4>隆Todas son correctas! </h4>
                        <p>Chiii, todas son correctas ya que desde que llegaste a mi vida todo a sido bonito y correcto </p>
                        <p>Te quiero demasiadoooo</p>
                        <div class="celebration">
                            <i class="fas fa-heart"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                    
                    <div class="question-signature">
                        <p> Aqui se acaba esta seccion, con todo mi amor,</p>
                        <p class="signature-name">Diego</p>
                        <div class="final-hearts">
                            <i class="fas fa-heart"></i>
                            <i class="fas fa-heart"></i>
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="simple-footer">
        <div class="footer-content">
            <p class="copyright">漏锔Con cari帽o, Diego</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Efecto de escritura en el t铆tulo
            const title = document.querySelector('.cursive-title');
            const originalText = title.textContent;
            title.textContent = '';
            
            let i = 0;
            function typeWriter() {
                if (i < originalText.length) {
                    title.textContent += originalText.charAt(i);
                    i++;
                    setTimeout(typeWriter, 100);
                }
            }
            setTimeout(typeWriter, 500);

            // JOYAS DE TU ESENCIA - CON PULSO PERMANENTE AL HACER CLICK
            const particles = document.querySelectorAll('.quality-particle');

            particles.forEach((particle) => {
                // Efecto mejorado al pasar el mouse
                particle.addEventListener('mouseenter', function() {
                    // Solo aplicar efectos hover si no est谩 clickeado
                    if (!this.classList.contains('clicked')) {
                        this.style.transform = 'scale(1.3) rotate(5deg)';
                        this.style.zIndex = '100';
                        this.style.boxShadow = 
                            '0 15px 35px rgba(255, 107, 147, 0.7), 0 0 30px rgba(255, 255, 255, 0.8)';
                        this.style.filter = 'brightness(1.3) drop-shadow(0 0 10px rgba(255, 255, 255, 0.8))';
                        this.style.transition = 'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                        
                        // Efecto de brillo extra
                        const glow = document.createElement('div');
                        glow.className = 'particle-glow';
                        glow.style.position = 'absolute';
                        glow.style.top = '0';
                        glow.style.left = '0';
                        glow.style.width = '100%';
                        glow.style.height = '100%';
                        glow.style.borderRadius = '50px';
                        glow.style.background = 'radial-gradient(circle at center, rgba(255,255,255,0.6) 0%, transparent 70%)';
                        glow.style.zIndex = '-1';
                        glow.style.animation = 'pulseGlow 1s ease-in-out infinite';
                        this.appendChild(glow);
                    }
                });
                
                particle.addEventListener('mouseleave', function() {
                    // Solo restaurar si no est谩 clickeado
                    if (!this.classList.contains('clicked')) {
                        this.style.transform = 'scale(1) rotate(0deg)';
                        this.style.zIndex = '1';
                        this.style.boxShadow = '0 8px 20px rgba(255, 107, 147, 0.3)';
                        this.style.filter = 'brightness(1) drop-shadow(0 0 0px rgba(255, 255, 255, 0))';
                        this.style.transition = 'all 0.5s ease';
                        
                        // Remover el brillo
                        const glow = this.querySelector('.particle-glow');
                        if (glow) {
                            glow.remove();
                        }
                    }
                });
                
                // Efecto al hacer clic - AHORA CON PULSO PERMANENTE
                particle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // Si ya est谩 activa, desactivarla
                    if (this.classList.contains('clicked')) {
                        this.classList.remove('clicked');
                        this.style.animation = 'floatParticle 6s ease-in-out infinite';
                        this.style.boxShadow = '0 8px 20px rgba(255, 107, 147, 0.3)';
                        this.style.filter = 'brightness(1) drop-shadow(0 0 0px rgba(255, 255, 255, 0))';
                        this.style.transform = 'scale(1) rotate(0deg)';
                        this.style.zIndex = '1';
                        
                        // Remover el brillo permanente
                        const permanentGlow = this.querySelector('.particle-permanent-glow');
                        if (permanentGlow) {
                            permanentGlow.remove();
                        }
                        
                        // Remover pulso permanente
                        const permanentPulse = this.querySelector('.particle-permanent-pulse');
                        if (permanentPulse) {
                            permanentPulse.remove();
                        }
                        
                        // Restaurar animaci贸n de flotaci贸n normal
                        this.style.animation = 'floatParticle 6s ease-in-out infinite';
                        this.style.animationDelay = 'var(--delay)';
                        
                        return;
                    }

                    // Funci贸n para crear mini corazones MS PEQUEOS
                    function createMiniHeart(x, y) {
                        const heart = document.createElement('div');
                        heart.innerHTML = '';
                        heart.style.position = 'fixed';
                        heart.style.left = `${x}px`;
                        heart.style.top = `${y}px`;
                        heart.style.fontSize = '18px'; /* Tama帽o adecuado */
                        heart.style.zIndex = '9999';
                        heart.style.pointerEvents = 'none';
                        heart.style.opacity = '0.9';
                        heart.style.transform = 'translate(-50%, -50%) scale(0)';
                        heart.style.animation = 'miniHeartFloat 1.5s ease-out forwards';
                        
                        document.body.appendChild(heart);
                        
                        setTimeout(() => {
                            heart.remove();
                        }, 1500);
                    }
                    
                    // Si no est谩 clickeada, activarla
                    this.classList.add('clicked');
                    
                    // 1. Primero la animaci贸n de clic
                    this.style.animation = 'particleClick 0.8s ease forwards';
                    
                    // 2. Despu茅s de la animaci贸n de clic, aplicar el pulso permanente
                    setTimeout(() => {
                        // Cambiar a animaci贸n de pulso permanente
                        this.style.animation = 'particlePermanentPulse 1.5s ease-in-out infinite';
                        
                        // Efectos visuales permanentes
                        this.style.boxShadow = 
                            '0 15px 35px rgba(255, 107, 147, 0.7), 0 0 30px rgba(255, 255, 255, 0.8)';
                        this.style.filter = 'brightness(1.2) drop-shadow(0 0 10px rgba(255, 255, 255, 0.6))';
                        this.style.zIndex = '50';
                        this.style.transform = 'scale(1.15)';
                        this.style.border = '3px solid rgba(255, 255, 255, 0.9)';
                        
                        // A帽adir brillo permanente
                        const permanentGlow = document.createElement('div');
                        permanentGlow.className = 'particle-permanent-glow';
                        permanentGlow.style.position = 'absolute';
                        permanentGlow.style.top = '0';
                        permanentGlow.style.left = '0';
                        permanentGlow.style.width = '100%';
                        permanentGlow.style.height = '100%';
                        permanentGlow.style.borderRadius = '50px';
                        permanentGlow.style.background = 'radial-gradient(circle at center, rgba(255,255,255,0.8) 0%, transparent 70%)';
                        permanentGlow.style.zIndex = '-1';
                        permanentGlow.style.opacity = '0.7';
                        this.appendChild(permanentGlow);
                        
                        // A帽adir anillo de pulso permanente
                        const permanentPulse = document.createElement('div');
                        permanentPulse.className = 'particle-permanent-pulse';
                        permanentPulse.style.position = 'absolute';
                        permanentPulse.style.top = '0';
                        permanentPulse.style.left = '0';
                        permanentPulse.style.width = '100%';
                        permanentPulse.style.height = '100%';
                        permanentPulse.style.borderRadius = '50px';
                        permanentPulse.style.border = '3px solid rgba(255, 255, 255, 0.8)';
                        permanentPulse.style.zIndex = '-2';
                        permanentPulse.style.animation = 'pulseRing 2s ease-out infinite';
                        this.appendChild(permanentPulse);
                        
                    }, 800); // Esperar a que termine la animaci贸n de clic
                    
                    // Crear mini corazones alrededor
                    for (let i = 0; i < 4; i++) { /* Reducido de 5 a 4 corazones */
                        setTimeout(() => {
                            // Calcula posiciones m谩s dispersas
                            const angle = (Math.PI * 2 / 4) * i;
                            const distance = 50 + Math.random() * 30; /* Distancia variable */
                            const offsetX = Math.cos(angle) * distance;
                            const offsetY = Math.sin(angle) * distance;
                            
                            createMiniHeart(
                                this.getBoundingClientRect().left + this.offsetWidth / 2 + offsetX,
                                this.getBoundingClientRect().top + this.offsetHeight / 2 + offsetY
                            );
                        }, i * 120); /* Aumentado el tiempo entre corazones */
                    }
                    
                    // Sonido o vibraci贸n (opcional)
                    if (navigator.vibrate) {
                        navigator.vibrate(50);
                    }
                });
            });

            // JPITER CORREGIDO - CON LNEA DE CORAZONES Y PALABRAS QUE SE MUEVEN ORDENADAMENTE
            const jupiterRing = document.querySelector('.jupiter-ring');
            const jupiterHeart = document.querySelector('.jupiter-heart');
            const progressFill = document.querySelector('.progress-fill');
            const progressCount = document.querySelector('.progress-count');
            const jupiterMessage = document.querySelector('.jupiter-message');
            
            let clickedWords = 0;
            const totalWords = 8;
            let explosionCompleted = false;
            let ringAnimation = null;
            
            if (jupiterRing) {
                // Animaci贸n de rotaci贸n del anillo
                function startRingRotation() {
                    let rotation = 0;
                    function rotateRing() {
                        rotation += 0.2;
                        jupiterRing.style.transform = `rotate(${rotation}deg)`;
                        ringAnimation = requestAnimationFrame(rotateRing);
                    }
                    ringAnimation = requestAnimationFrame(rotateRing);
                }
                startRingRotation();
                
                // Interactividad para las part铆culas del anillo
                const ringParticles = document.querySelectorAll('.ring-particle');
                const originalPositions = [];
                
                // Guardar posiciones originales
                ringParticles.forEach(particle => {
                    const rect = particle.getBoundingClientRect();
                    originalPositions.push({
                        left: rect.left,
                        top: rect.top,
                        width: rect.width,
                        height: rect.height
                    });
                });
                
                ringParticles.forEach((particle, index) => {
                    particle.addEventListener('click', function(e) {
                        e.stopPropagation();
                        
                        // Si ya fue clickeada, no hacer nada
                        if (this.getAttribute('data-clicked') === 'true') return;
                        
                        // Marcar como clickeada
                        this.setAttribute('data-clicked', 'true');
                        
                        // Incrementar contador
                        clickedWords++;
                        
                        // Actualizar progreso
                        updateJupiterProgress();
                        
                        // Mover la palabra hacia el centro con animaci贸n
                        moveWordToCenter(this, index);
                        
                        // Verificar si todas est谩n clickeadas
                        if (clickedWords === totalWords) {
                            setTimeout(() => {
                                triggerJupiterExplosion();
                            }, 800);
                        }
                    });
                });
                
                // Funci贸n para mover palabra hacia el centro
                function moveWordToCenter(wordElement, index) {
                    const ringRect = jupiterRing.getBoundingClientRect();
                    const centerX = ringRect.width / 2;
                    const centerY = ringRect.height / 2;
                    
                    // Posici贸n final
                    const spacing = 70;
                    const startX = centerX - (7 * spacing) / 2;
                    const finalX = startX + (index * spacing);
                    const finalY = centerY + 30;
                    
                    // Animaci贸n RPIDA de movimiento
                    wordElement.style.transition = 'all 0.4s ease-out';
                    wordElement.style.position = 'absolute';
                    wordElement.style.left = `${finalX - wordElement.offsetWidth / 2}px`;
                    wordElement.style.top = `${finalY - wordElement.offsetHeight / 2}px`;
                    wordElement.style.transform = 'scale(1.3)';
                    wordElement.style.backgroundColor = '#ff4d8d';
                    wordElement.style.zIndex = '50';
                    wordElement.style.boxShadow = '0 0 20px rgba(255, 77, 141, 0.9)';
                    
                    // Coraz贸n inmediato
                    setTimeout(() => {
                        createRingHeart(wordElement);
                    }, 200);
                    
                    // DESAPARECER EN 0.6 SEGUNDOS TOTAL
                    setTimeout(() => {
                        wordElement.style.transition = 'all 0.2s ease';
                        wordElement.style.opacity = '0';
                        wordElement.style.transform = 'scale(0) translateY(10px)';
                        
                        // Eliminar inmediatamente despu茅s
                        setTimeout(() => {
                            if (wordElement.parentNode) {
                                wordElement.parentNode.removeChild(wordElement);
                            }
                        }, 200);
                    }, 1);
                }
                
                // Actualizar barra de progreso
                function updateJupiterProgress() {
                    const percentage = (clickedWords / totalWords) * 100;
                    progressFill.style.width = `${percentage}%`;
                    progressCount.textContent = `${clickedWords}/${totalWords}`;
                    
                    // Cambiar color seg煤n progreso
                    if (percentage < 33) {
                        progressFill.style.background = 'linear-gradient(135deg, #ff6b93, #ffb6c1)';
                    } else if (percentage < 66) {
                        progressFill.style.background = 'linear-gradient(135deg, #ff4d8d, #ff6b93)';
                    } else {
                        progressFill.style.background = 'linear-gradient(135deg, #ff3366, #ff4d8d)';
                    }
                    
                    // Efecto de pulso al completar
                    if (percentage === 100) {
                        progressFill.style.animation = 'progressComplete 1s ease infinite';
                        document.querySelector('.jupiter-instruction').innerHTML = 
                            '<small>隆Todas descubiertas! Explosi贸n de amor...</small>';
                    }
                }
                
                // Crear coraz贸n peque帽o para las palabras del anillo
                function createRingHeart(wordElement) {
                    const rect = wordElement.getBoundingClientRect();
                    const heart = document.createElement('div');
                    heart.innerHTML = '';
                    heart.style.position = 'fixed';
                    heart.style.left = `${rect.left + rect.width / 2}px`;
                    heart.style.top = `${rect.top + rect.height / 2}px`;
                    heart.style.fontSize = '24px';
                    heart.style.zIndex = '9999';
                    heart.style.pointerEvents = 'none';
                    heart.style.opacity = '1';
                    heart.style.transform = 'translate(-50%, -50%) scale(0)';
                    heart.style.animation = 'ringHeartFloat 0.8s ease-out forwards';
                    
                    document.body.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 800);
                }
                
                // Funci贸n para activar la explosi贸n del J煤piter
                function triggerJupiterExplosion() {
                    if (explosionCompleted) return;
                    explosionCompleted = true;
                    
                    // Detener animaci贸n de rotaci贸n
                    if (ringAnimation) {
                        cancelAnimationFrame(ringAnimation);
                    }
                    
                    // 1. Ocultar las palabras que se movieron al centro
                    const ringParticles = document.querySelectorAll('.ring-particle');
                    
                    // 2. Crear l铆nea completa de corazones en el anillo
                    createHeartRing();
                    
                    // 3. Cambiar el mensaje de instrucci贸n
                    document.querySelector('.jupiter-instruction').innerHTML = 
                        '<small>隆Amor infinito! El anillo de corazones brilla por ti</small>';
                    
                    // 4. Animaci贸n de explosi贸n del coraz贸n central
                    jupiterHeart.style.animation = 'heartExplosionFinal 1.5s ease forwards';
                    jupiterHeart.style.transform = 'translate(-50%, -50%) scale(4)';
                    jupiterHeart.style.filter = 'drop-shadow(0 0 40px rgba(255, 107, 147, 1))';
                    jupiterHeart.style.opacity = '0.9';
                    
                    // 5. Crear explosi贸n de corazones "TQM"
                    createTQMExplosion();
                    
                    // 6. Efecto en el planeta
                    document.querySelector('.jupiter-surface').style.animation = 
                        'planetPulse 0.3s ease-in-out 3';
                    
                    // 7. Mostrar mensaje despu茅s de la explosi贸n
                    setTimeout(() => {
                        jupiterMessage.classList.add('show');
                    }, 1500);
                }
                
                // Funci贸n para crear l铆nea completa de corazones en el anillo
                function createHeartRing() {
                    const heartRingContainer = document.createElement('div');
                    heartRingContainer.className = 'heart-ring-container';
                    heartRingContainer.style.position = 'absolute';
                    heartRingContainer.style.top = '0';
                    heartRingContainer.style.left = '0';
                    heartRingContainer.style.width = '100%';
                    heartRingContainer.style.height = '100%';
                    heartRingContainer.style.zIndex = '20';
                    heartRingContainer.style.borderRadius = '50%';
                    heartRingContainer.style.overflow = 'visible';
                    
                    jupiterRing.appendChild(heartRingContainer);
                    
                    // Crear muchos corazones en un c铆rculo completo
                    const totalHearts = 24;
                    const heartTypes = ['', 'わ', '', '', '', '', '', ''];
                    const colors = ['#ff6b93', '#ff4d8d', '#ff3366', '#ff1493', '#ff69b4'];
                    
                    for (let i = 0; i < totalHearts; i++) {
                        setTimeout(() => {
                            const heart = document.createElement('div');
                            heart.className = 'ring-heart';
                            heart.innerHTML = heartTypes[i % heartTypes.length];
                            heart.style.position = 'absolute';
                            heart.style.fontSize = '22px';
                            heart.style.filter = 'drop-shadow(0 0 10px rgba(255, 107, 147, 0.9))';
                            heart.style.color = colors[i % colors.length];
                            heart.style.fontWeight = 'bold';
                            heart.style.textShadow = '0 0 8px rgba(255, 255, 255, 0.7)';
                            
                            // Posicionar en c铆rculo
                            const angle = (360 / totalHearts) * i * (Math.PI / 180);
                            const radius = 130;
                            const centerX = jupiterRing.offsetWidth / 2;
                            const centerY = jupiterRing.offsetHeight / 2;
                            
                            const x = centerX + Math.cos(angle) * radius - 15;
                            const y = centerY + Math.sin(angle) * radius - 15;
                            
                            heart.style.left = `${x}px`;
                            heart.style.top = `${y}px`;
                            
                            // Animaci贸n de brillo y movimiento
                            heart.style.animation = `heartRingFloat ${3 + Math.random()}s ease-in-out infinite`;
                            heart.style.animationDelay = `${i * 0.1}s`;
                            
                            // Efecto de aparici贸n
                            heart.style.opacity = '0';
                            heart.style.transform = 'scale(0) rotate(0deg)';
                            heart.style.transition = 'all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)';
                            
                            heartRingContainer.appendChild(heart);
                            
                            // Animar aparici贸n
                            setTimeout(() => {
                                heart.style.opacity = '0.9';
                                heart.style.transform = 'scale(1) rotate(360deg)';
                            }, 50 + i * 30);
                            
                        }, i * 50);
                    }
                    
                    // Agregar animaci贸n de rotaci贸n al contenedor completo
                    heartRingContainer.style.animation = 'heartRingRotate 20s linear infinite';
                }
                
                // Funci贸n para crear explosi贸n MS GRANDE de corazones "TQM"
                function createTQMExplosion() {
                    const colors = ['#ff6b93', '#ff4d8d', '#ff3366', '#ff1493', '#ff69b4', '#ff1493', '#ff0066'];
                    const messages = ['TQM', '', 'TE AMO', 'わ', 'TE QUIERO', '', 'LOVE', '', ''];
                    
                    // Crear MUCHOS corazones en explosi贸n radial
                    for (let i = 0; i < 60; i++) {
                        setTimeout(() => {
                            const heart = document.createElement('div');
                            heart.innerHTML = messages[Math.floor(Math.random() * messages.length)];
                            heart.style.position = 'fixed';
                            heart.style.left = `${window.innerWidth / 2}px`;
                            heart.style.top = `${window.innerHeight / 2}px`;
                            heart.style.fontSize = `${24 + Math.random() * 32}px`;
                            heart.style.fontWeight = 'bold';
                            heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                            heart.style.zIndex = '9999';
                            heart.style.pointerEvents = 'none';
                            heart.style.opacity = '1';
                            heart.style.transform = 'translate(-50%, -50%) scale(0)';
                            heart.style.textShadow = '0 0 15px rgba(255, 255, 255, 0.8)';
                            
                            // Animaci贸n de explosi贸n
                            const angle = Math.random() * Math.PI * 2;
                            const distance = 150 + Math.random() * 400;
                            const duration = 1 + Math.random() * 1.5;
                            
                            heart.style.animation = `
                                tqmExplosionFinal ${duration}s ease-out forwards,
                                fadeOutFinal ${duration * 0.7}s ease-out ${duration * 0.3}s forwards
                            `;
                            
                            // Variables CSS para la animaci贸n
                            heart.style.setProperty('--explode-x', `${Math.cos(angle) * distance}px`);
                            heart.style.setProperty('--explode-y', `${Math.sin(angle) * distance}px`);
                            heart.style.setProperty('--rotate', `${Math.random() * 1080 - 540}deg`);
                            heart.style.setProperty('--scale-end', `${0.5 + Math.random() * 0.7}`);
                            
                            document.body.appendChild(heart);
                            
                            // Eliminar despu茅s de la animaci贸n
                            setTimeout(() => {
                                if (heart.parentNode) {
                                    heart.parentNode.removeChild(heart);
                                }
                            }, duration * 1000);
                        }, i * 20);
                    }
                    
                    // Efecto de onda expansiva
                    createShockwave();
                }
                
                // Funci贸n para crear efecto de onda expansiva
                function createShockwave() {
                    const shockwave = document.createElement('div');
                    shockwave.style.position = 'fixed';
                    shockwave.style.left = '50%';
                    shockwave.style.top = '50%';
                    shockwave.style.transform = 'translate(-50%, -50%)';
                    shockwave.style.width = '0';
                    shockwave.style.height = '0';
                    shockwave.style.borderRadius = '50%';
                    shockwave.style.border = '3px solid rgba(255, 107, 147, 0.8)';
                    shockwave.style.boxShadow = '0 0 30px rgba(255, 107, 147, 0.6)';
                    shockwave.style.zIndex = '9998';
                    shockwave.style.pointerEvents = 'none';
                    shockwave.style.animation = 'shockwave 1s ease-out forwards';
                    
                    document.body.appendChild(shockwave);
                    
                    setTimeout(() => {
                        shockwave.remove();
                    }, 1000);
                }
            }

            // PREGUNTA CON OPCIONES - TODAS CORRECTAS
            const options = document.querySelectorAll('.option');
            const questionResult = document.getElementById('questionResult');
            let questionAnswered = false;
            
            options.forEach(option => {
                option.addEventListener('click', function() {
                    if (questionAnswered) return;
                    
                    questionAnswered = true;
                    
                    // Mostrar feedback de todas las opciones
                    options.forEach(opt => {
                        const feedback = opt.querySelector('.option-feedback');
                        feedback.style.display = 'flex';
                        feedback.style.animation = 'fadeInUp 0.5s ease forwards';
                        
                        // Todas son correctas, as铆 que todas tienen estilo positivo
                        opt.style.backgroundColor = 'rgba(76, 175, 80, 0.2)';
                        opt.style.borderColor = '#4CAF50';
                        opt.style.boxShadow = '0 5px 20px rgba(76, 175, 80, 0.3)';
                    });
                    
                    // Mostrar mensaje de resultado
                    setTimeout(() => {
                        questionResult.style.display = 'block';
                        questionResult.style.animation = 'fadeInUp 0.8s ease forwards';
                        
                        // Crear corazones de celebraci贸n
                        for (let i = 0; i < 20; i++) {
                            setTimeout(() => {
                                createHeart(
                                    Math.random() * window.innerWidth,
                                    Math.random() * window.innerHeight
                                );
                            }, i * 80);
                        }
                    }, 800);
                    
                    // Desactivar clics adicionales
                    options.forEach(opt => {
                        opt.style.pointerEvents = 'none';
                    });
                });
                
                // Efecto hover
                option.addEventListener('mouseenter', function() {
                    if (!questionAnswered) {
                        this.style.transform = 'translateY(-5px)';
                        this.style.boxShadow = '0 10px 25px rgba(255, 107, 147, 0.3)';
                    }
                });
                
                option.addEventListener('mouseleave', function() {
                    if (!questionAnswered) {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = '0 5px 15px rgba(255, 107, 147, 0.15)';
                    }
                });
            });

            // MEMORAMA SIMPLIFICADO (4x4) CON IMGENES
            const memoryGame = {
                grid: null,
                cards: [],
                flippedCards: [],
                matchedPairs: 0,
                totalPairs: 8,
                images: [
                    'chiquita.jpeg',
                    'comida.jpeg',
                    'fut.jpeg',
                    'gorrito.jpeg',
                    'lentes.jpeg',
                    'bella.jpeg',
                    'oumm.jpeg',
                    'pc.jpeg'
                ],
                
                init() {
                    this.createCards();
                    this.shuffleCards();
                    this.renderGrid();
                    this.setupEventListeners();
                    this.updateStats();
                    
                    document.getElementById('resetMemory').addEventListener('click', () => this.reset());
                },
                
                createCards() {
                    this.cards = [];
                    // Duplicar im谩genes para hacer parejas
                    const pairs = [...this.images, ...this.images];
                    
                    pairs.forEach((image, index) => {
                        this.cards.push({
                            id: index,
                            image: image,
                            flipped: false,
                            matched: false
                        });
                    });
                },
                
                shuffleCards() {
                    for (let i = this.cards.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [this.cards[i], this.cards[j]] = [this.cards[j], this.cards[i]];
                    }
                },
                
                renderGrid() {
                    const gameGrid = document.querySelector('.memory-game');
                    gameGrid.innerHTML = '';
                    
                    // Grid 4x4 (16 cartas)
                    for (let i = 0; i < 16; i++) {
                        const card = document.createElement('div');
                        card.className = 'memory-card';
                        card.dataset.index = i;
                        
                        const cardData = this.cards[i];
                        card.innerHTML = `
                            <div class="card-front">
                                <img src="${cardData.image}" alt="Memoria ${i + 1}" loading="lazy">
                            </div>
                            <div class="card-back">?</div>
                        `;
                        
                        gameGrid.appendChild(card);
                    }
                    
                    gameGrid.style.gridTemplateColumns = 'repeat(4, 1fr)';
                    gameGrid.style.gap = '15px';
                    gameGrid.style.justifyContent = 'center';
                },
                
                setupEventListeners() {
                    const cards = document.querySelectorAll('.memory-card');
                    cards.forEach(card => {
                        card.addEventListener('click', () => this.flipCard(card));
                    });
                },
                
                flipCard(cardElement) {
                    const index = parseInt(cardElement.dataset.index);
                    const card = this.cards[index];
                    
                    if (this.flippedCards.length >= 2 || card.flipped || card.matched) {
                        return;
                    }
                    
                    // Voltear carta
                    card.flipped = true;
                    cardElement.classList.add('flipped');
                    
                    this.flippedCards.push({ element: cardElement, index, card });
                    
                    if (this.flippedCards.length === 2) {
                        this.checkMatch();
                    }
                    
                    this.updateStats();
                },
                
                checkMatch() {
                    const [card1, card2] = this.flippedCards;
                    
                    if (card1.card.image === card2.card.image) {
                        // Es un par
                        setTimeout(() => {
                            card1.card.matched = true;
                            card2.card.matched = true;
                            
                            card1.element.classList.add('matched');
                            card2.element.classList.add('matched');
                            
                            this.flippedCards = [];
                            this.matchedPairs++;
                            
                            this.updateStats();
                            this.checkWin();
                        }, 500);
                    } else {
                        // No es un par
                        setTimeout(() => {
                            card1.card.flipped = false;
                            card2.card.flipped = false;
                            
                            card1.element.classList.remove('flipped');
                            card2.element.classList.remove('flipped');
                            
                            this.flippedCards = [];
                            this.updateStats();
                        }, 1000);
                    }
                },
                
                updateStats() {
                    document.getElementById('matches').textContent = 
                        `${this.matchedPairs}/${this.totalPairs}`;
                },
                
                checkWin() {
                    if (this.matchedPairs === this.totalPairs) {
                        setTimeout(() => {
                            document.querySelector('.memory-message').classList.add('show');
                            this.createHearts(15);
                        }, 500);
                    }
                },
                
                reset() {
                    this.flippedCards = [];
                    this.matchedPairs = 0;
                    this.createCards();
                    this.shuffleCards();
                    this.renderGrid();
                    this.setupEventListeners();
                    this.updateStats();
                    document.querySelector('.memory-message').classList.remove('show');
                },
                
                createHearts(count) {
                    for (let i = 0; i < count; i++) {
                        setTimeout(() => {
                            createHeart(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight
                            );
                        }, i * 100);
                    }
                }
            };
            
            // Inicializar memorama cuando la secci贸n sea visible
            const memoryObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        memoryGame.init();
                        memoryObserver.disconnect();
                    }
                });
            }, { threshold: 0.5 });
            
            const memorySection = document.querySelector('.memory-section');
            if (memorySection) memoryObserver.observe(memorySection);

            // OLAS MEJORADAS
            const waves = document.querySelectorAll('.wave');
            const heartContainer = document.getElementById('heart-container');
            
            waves.forEach(wave => {
                wave.addEventListener('click', (e) => {
                    // Crear m煤ltiples corazones
                    for (let i = 0; i < 7; i++) {
                        setTimeout(() => {
                            createHeart(
                                e.clientX + Math.random() * 150 - 75,
                                e.clientY + Math.random() * 150 - 75
                            );
                        }, i * 80);
                    }
                    
                    // Efecto visual en la ola
                    wave.style.transform = 'scale(1.15) translateX(-20px)';
                    wave.style.background = 'linear-gradient(90deg, rgba(255, 182, 193, 0.4), rgba(255, 107, 147, 0.5), rgba(255, 182, 193, 0.4))';
                    
                    setTimeout(() => {
                        wave.style.transform = 'scale(1) translateX(0)';
                        wave.style.background = 'linear-gradient(90deg, rgba(255, 182, 193, 0.2), rgba(255, 107, 147, 0.3), rgba(255, 182, 193, 0.2))';
                    }, 300);
                });
                
                // Tambi茅n funciona con toque en m贸viles
                wave.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    
                    for (let i = 0; i < 7; i++) {
                        setTimeout(() => {
                            createHeart(
                                touch.clientX + Math.random() * 150 - 75,
                                touch.clientY + Math.random() * 150 - 75
                            );
                        }, i * 80);
                    }
                    
                    wave.style.transform = 'scale(1.15) translateX(20px)';
                    wave.style.background = 'linear-gradient(90deg, rgba(255, 182, 193, 0.4), rgba(255, 107, 147, 0.5), rgba(255, 182, 193, 0.4))';
                    
                    setTimeout(() => {
                        wave.style.transform = 'scale(1) translateX(0)';
                        wave.style.background = 'linear-gradient(90deg, rgba(255, 182, 193, 0.2), rgba(255, 107, 147, 0.3), rgba(255, 182, 193, 0.2))';
                    }, 300);
                });
            });
            
            function createHeart(x, y) {
                const heart = document.createElement('div');
                heart.innerHTML = '';
                heart.style.position = 'fixed';
                heart.style.left = `${x}px`;
                heart.style.top = `${y}px`;
                heart.style.fontSize = '28px';
                heart.style.zIndex = '1000';
                heart.style.pointerEvents = 'none';
                heart.style.animation = 'floatHeart 2s ease-out forwards';
                
                document.body.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 2000);
            }

            // LABERINTO CORREGIDO - TIMER EMPIEZA AL MOVER
            const mazeGame = {
                grid: null,
                player: { x: 1, y: 1 },
                start: { x: 1, y: 1 },
                exit: { x: 17, y: 17 },
                mazeSize: 19,
                moves: 0,
                startTime: null,
                timerInterval: null,
                cellSize: 25,
                timerStarted: false,
                
                init() {
                    this.createMaze();
                    this.renderMaze();
                    this.setupControls();
                    this.updatePlayerPosition();
                    this.updateStats();
                    
                    // NO iniciar el timer autom谩ticamente
                    document.getElementById('timer').textContent = '00:00';
                    
                    document.getElementById('resetMaze').addEventListener('click', () => this.reset());
                },
                
                createMaze() {
                    this.grid = [
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                        [1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],
                        [1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1],
                        [1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1],
                        [1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1],
                        [1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1],
                        [1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1],
                        [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1],
                        [1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,0,1],
                        [1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1],
                        [1,1,1,0,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1],
                        [1,0,0,0,1,0,1,0,0,0,0,1,0,1,0,0,0,0,1],
                        [1,0,1,1,1,0,1,0,1,1,1,1,0,1,1,1,1,0,1],
                        [1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1],
                        [1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
                        [1,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,1],
                        [1,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1],
                        [1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1],
                        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
                    ];
                    
                    this.grid[17][17] = 0;
                    this.grid[17][16] = 0;
                    this.grid[16][17] = 0;
                },
                
                renderMaze() {
                    const mazeGrid = document.querySelector('.maze-grid');
                    mazeGrid.innerHTML = '';
                    
                    for (let y = 0; y < this.mazeSize; y++) {
                        for (let x = 0; x < this.mazeSize; x++) {
                            const cell = document.createElement('div');
                            cell.className = 'maze-cell';
                            cell.dataset.x = x;
                            cell.dataset.y = y;
                            
                            if (this.grid[y][x] === 1) {
                                cell.classList.add('wall');
                                cell.innerHTML = '<div class="wall-texture"></div>';
                            } else {
                                cell.classList.add('path');
                            }
                            
                            if (x === this.start.x && y === this.start.y) {
                                cell.classList.add('start-cell');
                            }
                            
                            if (x === this.exit.x && y === this.exit.y) {
                                cell.classList.add('exit-cell');
                            }
                            
                            mazeGrid.appendChild(cell);
                        }
                    }
                    
                    mazeGrid.style.gridTemplateColumns = `repeat(${this.mazeSize}, ${this.cellSize}px)`;
                    mazeGrid.style.gridTemplateRows = `repeat(${this.mazeSize}, ${this.cellSize}px)`;
                },
                
                updatePlayerPosition() {
                    const playerEl = document.querySelector('.maze-player');
                    playerEl.style.left = `${this.player.x * this.cellSize}px`;
                    playerEl.style.top = `${this.player.y * this.cellSize}px`;
                    
                    playerEl.style.transition = 'all 0.2s ease';
                    
                    if (this.player.x === this.exit.x && this.player.y === this.exit.y) {
                        this.showVictory();
                    }
                    
                    const currentCell = document.querySelector(`.maze-cell[data-x="${this.player.x}"][data-y="${this.player.y}"]`);
                    if (currentCell && !currentCell.classList.contains('start-cell') && !currentCell.classList.contains('exit-cell')) {
                        currentCell.style.backgroundColor = 'rgba(255, 182, 193, 0.3)';
                        currentCell.style.boxShadow = 'inset 0 0 10px rgba(255, 107, 147, 0.5)';
                        
                        setTimeout(() => {
                            currentCell.style.backgroundColor = '';
                            currentCell.style.boxShadow = '';
                        }, 500);
                    }
                },
                
                movePlayer(dx, dy) {
                    const newX = this.player.x + dx;
                    const newY = this.player.y + dy;
                    
                    if (newX >= 0 && newX < this.mazeSize && 
                        newY >= 0 && newY < this.mazeSize &&
                        this.grid[newY][newX] === 0) {
                        
                        // Iniciar timer en el primer movimiento
                        if (!this.timerStarted && (dx !== 0 || dy !== 0)) {
                            this.startTimer();
                            this.timerStarted = true;
                        }
                        
                        this.player.x = newX;
                        this.player.y = newY;
                        this.moves++;
                        this.updatePlayerPosition();
                        this.updateStats();
                        return true;
                    } else {
                        const playerEl = document.querySelector('.maze-player');
                        playerEl.style.transform = 'translateX(5px)';
                        setTimeout(() => {
                            playerEl.style.transform = 'translateX(0)';
                        }, 100);
                        return false;
                    }
                },
                
                setupControls() {
                    document.addEventListener('keydown', (e) => {
                        if (this.player.x === this.exit.x && this.player.y === this.exit.y) return;
                        
                        if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                            e.preventDefault();
                        }
                        
                        switch(e.key) {
                            case 'ArrowUp': this.movePlayer(0, -1); break;
                            case 'ArrowDown': this.movePlayer(0, 1); break;
                            case 'ArrowLeft': this.movePlayer(-1, 0); break;
                            case 'ArrowRight': this.movePlayer(1, 0); break;
                            case 'w': case 'W': this.movePlayer(0, -1); break;
                            case 's': case 'S': this.movePlayer(0, 1); break;
                            case 'a': case 'A': this.movePlayer(-1, 0); break;
                            case 'd': case 'D': this.movePlayer(1, 0); break;
                        }
                    });
                    
                    const mazeGameEl = document.querySelector('.maze-game');
                    let touchStartX = 0;
                    let touchStartY = 0;
                    
                    mazeGameEl.addEventListener('touchstart', (e) => {
                        touchStartX = e.touches[0].clientX;
                        touchStartY = e.touches[0].clientY;
                        e.preventDefault();
                    });
                    
                    mazeGameEl.addEventListener('touchmove', (e) => {
                        e.preventDefault();
                    });
                    
                    mazeGameEl.addEventListener('touchend', (e) => {
                        if (!touchStartX || !touchStartY) return;
                        
                        const touchEndX = e.changedTouches[0].clientX;
                        const touchEndY = e.changedTouches[0].clientY;
                        
                        const dx = touchEndX - touchStartX;
                        const dy = touchEndY - touchStartY;
                        
                        if (Math.abs(dx) > Math.abs(dy)) {
                            if (dx > 30) this.movePlayer(1, 0);
                            else if (dx < -30) this.movePlayer(-1, 0);
                        } else {
                            if (dy > 30) this.movePlayer(0, 1);
                            else if (dy < -30) this.movePlayer(0, -1);
                        }
                        
                        touchStartX = 0;
                        touchStartY = 0;
                    });
                },
                
                startTimer() {
                    this.startTime = new Date();
                    clearInterval(this.timerInterval);
                    
                    this.timerInterval = setInterval(() => {
                        const currentTime = new Date();
                        const elapsed = Math.floor((currentTime - this.startTime) / 1000);
                        const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
                        const seconds = (elapsed % 60).toString().padStart(2, '0');
                        document.getElementById('timer').textContent = `${minutes}:${seconds}`;
                        
                        if (elapsed > 120) {
                            document.getElementById('timer').style.color = '#ff3366';
                            document.getElementById('timer').style.fontWeight = 'bold';
                        }
                    }, 1000);
                },
                
                updateStats() {
                    document.getElementById('moves').textContent = this.moves;
                    
                    const movesEl = document.getElementById('moves');
                    if (this.moves > 100) {
                        movesEl.style.color = '#ff3366';
                        movesEl.style.fontWeight = 'bold';
                    } else if (this.moves > 50) {
                        movesEl.style.color = '#ff6b93';
                    } else {
                        movesEl.style.color = '';
                    }
                },
                
                showVictory() {
                    clearInterval(this.timerInterval);
                    
                    const message = document.querySelector('.maze-message');
                    message.classList.add('show');
                    
                    const time = document.getElementById('timer').textContent;
                    const statsText = `隆Lo lograste en ${this.moves} movimientos y en ${time} !`;
                    message.querySelector('p').innerHTML += `<br><br><strong>${statsText}</strong>`;
                    
                    for (let i = 0; i < 30; i++) {
                        setTimeout(() => {
                            createHeart(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight
                            );
                        }, i * 100);
                    }
                    
                    this.createConfetti();
                },
                
                createConfetti() {
                    const colors = ['#ff6b93', '#ffb6c1', '#ff4d8d', '#ff3366', '#ffc8dd'];
                    const confettiContainer = document.createElement('div');
                    confettiContainer.style.position = 'fixed';
                    confettiContainer.style.top = '0';
                    confettiContainer.style.left = '0';
                    confettiContainer.style.width = '100%';
                    confettiContainer.style.height = '100%';
                    confettiContainer.style.pointerEvents = 'none';
                    confettiContainer.style.zIndex = '1001';
                    
                    for (let i = 0; i < 150; i++) {
                        const confetti = document.createElement('div');
                        confetti.style.position = 'absolute';
                        confetti.style.width = '10px';
                        confetti.style.height = '10px';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.borderRadius = '50%';
                        confetti.style.left = `${Math.random() * 100}vw`;
                        confetti.style.top = '-20px';
                        confetti.style.animation = `confettiFall ${2 + Math.random() * 3}s linear forwards`;
                        
                        confettiContainer.appendChild(confetti);
                    }
                    
                    document.body.appendChild(confettiContainer);
                    
                    setTimeout(() => {
                        confettiContainer.remove();
                    }, 5000);
                },
                
                reset() {
                    clearInterval(this.timerInterval);
                    this.player = { x: 1, y: 1 };
                    this.moves = 0;
                    this.timerStarted = false;
                    this.createMaze();
                    this.renderMaze();
                    this.updatePlayerPosition();
                    this.updateStats();
                    
                    // Reiniciar timer display
                    document.getElementById('timer').textContent = '00:00';
                    document.getElementById('timer').style.color = '';
                    document.getElementById('timer').style.fontWeight = '';
                    
                    const message = document.querySelector('.maze-message');
                    message.classList.remove('show');
                    message.querySelector('p').innerHTML = 'As铆 como lograste salir, t煤 iluminas mi vida encontrando siempre el camino a mi coraz贸n.';
                    
                    document.getElementById('moves').style.color = '';
                    document.getElementById('moves').style.fontWeight = '';
                    
                    const playerEl = document.querySelector('.maze-player');
                    playerEl.style.transform = 'scale(1)';
                }
            };
            
            const mazeObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        mazeGame.init();
                        mazeObserver.disconnect();
                    }
                });
            }, { threshold: 0.5 });
            
            const mazeSection = document.querySelector('.maze-section');
            if (mazeSection) mazeObserver.observe(mazeSection);

            // PUZZLE INTERCAMBIABLE
            const puzzleGame = {
                pieces: [],
                board: [],
                piecesPlaced: 0,
                totalPieces: 9,
                pieceImages: [
                    'Rompecabezas/estrellas_1_300x388.jpg',
                    'Rompecabezas/estrellas_2_300x388.jpg',
                    'Rompecabezas/estrellas_3_300x388.jpg',
                    'Rompecabezas/estrellas_4_300x388.jpg',
                    'Rompecabezas/estrellas_5_300x388.jpg',
                    'Rompecabezas/estrellas_6_300x388.jpg',
                    'Rompecabezas/estrellas_7_300x388.jpg',
                    'Rompecabezas/estrellas_8_300x388.jpg',
                    'Rompecabezas/estrellas_9_300x388.jpg'
                ],
                draggingPiece: null,
                draggedFromSlot: null,
                completedImage: 'estrellas.jpeg',
                
                init() {
                    this.createPieces();
                    this.renderPieces();
                    this.setupBoard();
                    this.setupDragAndDrop();
                    this.updateStats();
                    
                    document.getElementById('resetPuzzle').addEventListener('click', () => this.reset());
                },
                
                createPieces() {
                    this.pieces = [];
                    
                    for (let i = 0; i < this.totalPieces; i++) {
                        this.pieces.push({
                            id: i,
                            image: this.pieceImages[i],
                            position: null,
                            placed: false
                        });
                    }
                    
                    for (let i = this.pieces.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        [this.pieces[i], this.pieces[j]] = [this.pieces[j], this.pieces[i]];
                    }
                },
                
                renderPieces() {
                    const piecesContainer = document.querySelector('.puzzle-pieces');
                    piecesContainer.innerHTML = '';
                    
                    this.pieces.forEach(piece => {
                        if (!piece.placed) {
                            const pieceEl = this.createPieceElement(piece);
                            piecesContainer.appendChild(pieceEl);
                        }
                    });
                },
                
                createPieceElement(piece) {
                    const pieceEl = document.createElement('div');
                    pieceEl.className = 'puzzle-piece';
                    pieceEl.dataset.id = piece.id;
                    pieceEl.draggable = true;
                    
                    const img = document.createElement('img');
                    img.src = piece.image;
                    img.alt = `Pieza ${piece.id + 1}`;
                    img.loading = 'lazy';
                    
                    pieceEl.appendChild(img);
                    return pieceEl;
                },
                
                setupBoard() {
                    const board = document.querySelector('.puzzle-board');
                    board.innerHTML = '';
                    
                    for (let i = 0; i < this.totalPieces; i++) {
                        const slot = document.createElement('div');
                        slot.className = 'puzzle-slot';
                        slot.dataset.position = i;
                        slot.dataset.correctPiece = i;
                        
                        const pieceInSlot = this.pieces.find(p => p.position === i);
                        if (pieceInSlot) {
                            const pieceEl = this.createPieceElement(pieceInSlot);
                            pieceEl.classList.add('placed');
                            pieceEl.draggable = true;
                            slot.appendChild(pieceEl);
                            
                            if (pieceInSlot.id === i) {
                                pieceEl.style.border = '3px solid #4CAF50';
                            } else {
                                pieceEl.style.border = '3px solid #ff6b93';
                            }
                        }
                        
                        board.appendChild(slot);
                    }
                    
                    board.style.gridTemplateColumns = 'repeat(3, 90px)';
                },
                
                setupDragAndDrop() {
                    const board = document.querySelector('.puzzle-board');
                    const piecesContainer = document.querySelector('.puzzle-pieces');
                    
                    piecesContainer.addEventListener('dragstart', (e) => {
                        if (e.target.classList.contains('puzzle-piece') || e.target.parentElement.classList.contains('puzzle-piece')) {
                            const pieceEl = e.target.classList.contains('puzzle-piece') ? e.target : e.target.parentElement;
                            this.draggingPiece = pieceEl;
                            this.draggedFromSlot = null;
                            pieceEl.style.opacity = '0.4';
                            e.dataTransfer.setData('text/plain', pieceEl.dataset.id);
                        }
                    });
                    
                    board.addEventListener('dragstart', (e) => {
                        if (e.target.classList.contains('puzzle-piece') || e.target.parentElement.classList.contains('puzzle-piece')) {
                            const pieceEl = e.target.classList.contains('puzzle-piece') ? e.target : e.target.parentElement;
                            this.draggingPiece = pieceEl;
                            this.draggedFromSlot = e.target.parentElement.classList.contains('puzzle-slot') ? 
                                e.target.parentElement : e.target.parentElement.parentElement;
                            pieceEl.style.opacity = '0.4';
                            e.dataTransfer.setData('text/plain', pieceEl.dataset.id);
                        }
                    });
                    
                    document.addEventListener('dragend', (e) => {
                        if (this.draggingPiece) {
                            this.draggingPiece.style.opacity = '1';
                            this.draggingPiece = null;
                            this.draggedFromSlot = null;
                        }
                    });
                    
                    board.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        e.dataTransfer.dropEffect = 'move';
                    });
                    
                    board.addEventListener('drop', (e) => {
                        e.preventDefault();
                        if (!this.draggingPiece) return;
                        
                        const targetSlot = e.target.classList.contains('puzzle-slot') 
                            ? e.target 
                            : e.target.closest('.puzzle-slot');
                        
                        if (!targetSlot) return;
                        
                        this.handleDrop(targetSlot);
                    });
                    
                    piecesContainer.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        e.dataTransfer.dropEffect = 'move';
                    });
                    
                    piecesContainer.addEventListener('drop', (e) => {
                        e.preventDefault();
                        if (!this.draggingPiece || !this.draggedFromSlot) return;
                        
                        this.returnToPiecesArea();
                    });
                },
                
                handleDrop(targetSlot) {
                    const pieceId = parseInt(this.draggingPiece.dataset.id);
                    const pieceIndex = this.pieces.findIndex(p => p.id === pieceId);
                    if (pieceIndex === -1) return;
                    
                    const targetPosition = parseInt(targetSlot.dataset.position);
                    
                    if (targetSlot.children.length > 0) {
                        const existingPieceEl = targetSlot.firstElementChild;
                        const existingPieceId = parseInt(existingPieceEl.dataset.id);
                        const existingPieceIndex = this.pieces.findIndex(p => p.id === existingPieceId);
                        
                        if (this.draggedFromSlot) {
                            const oldPosition = parseInt(this.draggedFromSlot.dataset.position);
                            
                            this.pieces[pieceIndex].position = targetPosition;
                            this.pieces[existingPieceIndex].position = oldPosition;
                            
                            this.draggedFromSlot.appendChild(existingPieceEl);
                            targetSlot.appendChild(this.draggingPiece);
                            
                            this.draggingPiece.classList.add('swapping');
                            existingPieceEl.classList.add('swapping');
                            setTimeout(() => {
                                this.draggingPiece.classList.remove('swapping');
                                existingPieceEl.classList.remove('swapping');
                            }, 300);
                            
                            this.updatePieceBorders(this.draggingPiece, targetPosition);
                            this.updatePieceBorders(existingPieceEl, oldPosition);
                        } else {
                            this.pieces[existingPieceIndex].position = null;
                            this.pieces[existingPieceIndex].placed = false;
                            
                            this.pieces[pieceIndex].position = targetPosition;
                            this.pieces[pieceIndex].placed = true;
                            
                            const piecesContainer = document.querySelector('.puzzle-pieces');
                            piecesContainer.appendChild(existingPieceEl);
                            existingPieceEl.classList.remove('placed');
                            targetSlot.appendChild(this.draggingPiece);
                            this.draggingPiece.classList.add('placed');
                            
                            this.updatePieceBorders(this.draggingPiece, targetPosition);
                            existingPieceEl.style.border = '2px solid white';
                        }
                    } else {
                        if (this.draggedFromSlot) {
                            this.pieces[pieceIndex].position = targetPosition;
                            targetSlot.appendChild(this.draggingPiece);
                            this.updatePieceBorders(this.draggingPiece, targetPosition);
                        } else {
                            this.pieces[pieceIndex].position = targetPosition;
                            this.pieces[pieceIndex].placed = true;
                            targetSlot.appendChild(this.draggingPiece);
                            this.draggingPiece.classList.add('placed');
                            this.updatePieceBorders(this.draggingPiece, targetPosition);
                        }
                    }
                    
                    this.updateStats();
                    this.checkWin();
                },
                
                returnToPiecesArea() {
                    const pieceId = parseInt(this.draggingPiece.dataset.id);
                    const pieceIndex = this.pieces.findIndex(p => p.id === pieceId);
                    if (pieceIndex === -1) return;
                    
                    this.pieces[pieceIndex].position = null;
                    this.pieces[pieceIndex].placed = false;
                    
                    const piecesContainer = document.querySelector('.puzzle-pieces');
                    this.draggingPiece.classList.remove('placed');
                    this.draggingPiece.style.border = '2px solid white';
                    piecesContainer.appendChild(this.draggingPiece);
                    
                    this.updateStats();
                },
                
                updatePieceBorders(pieceEl, position) {
                    const pieceId = parseInt(pieceEl.dataset.id);
                    const isCorrect = pieceId === position;
                    
                    if (isCorrect) {
                        pieceEl.style.border = '3px solid #4CAF50';
                    } else {
                        pieceEl.style.border = '3px solid #ff6b93';
                    }
                },
                
                updateStats() {
                    this.piecesPlaced = this.pieces.filter(p => p.position !== null).length;
                    document.getElementById('piecesPlaced').textContent = 
                        `${this.piecesPlaced}/${this.totalPieces}`;
                },
                
                checkWin() {
                    const allCorrect = this.pieces.every(piece => {
                        if (piece.position === null) return false;
                        return piece.id === piece.position;
                    });
                    
                    if (allCorrect) {
                        this.showCompletedPuzzle();
                        
                        setTimeout(() => {
                            document.querySelector('.puzzle-message').classList.add('show');
                            this.createHearts(12);
                            
                            const puzzlePiecesContainer = document.querySelector('.puzzle-pieces-container');
                            if (puzzlePiecesContainer) {
                                puzzlePiecesContainer.style.opacity = '0';
                                puzzlePiecesContainer.style.height = '0';
                                puzzlePiecesContainer.style.padding = '0';
                                puzzlePiecesContainer.style.margin = '0';
                                puzzlePiecesContainer.style.overflow = 'hidden';
                                puzzlePiecesContainer.style.transition = 'all 0.8s ease';
                                
                                setTimeout(() => {
                                    puzzlePiecesContainer.style.display = 'none';
                                }, 800);
                            }
                        }, 1000);
                    }
                },
                
                showCompletedPuzzle() {
                    const board = document.querySelector('.puzzle-board');
                    board.classList.add('completed');
                    
                    board.innerHTML = '';
                    
                    const completedContainer = document.createElement('div');
                    completedContainer.className = 'completed-puzzle';
                    completedContainer.style.gridColumn = '1 / -1';
                    completedContainer.style.gridRow = '1 / -1';
                    completedContainer.style.width = '280px';
                    completedContainer.style.height = '360px';
                    completedContainer.style.margin = '0 auto';
                    completedContainer.style.borderRadius = '15px';
                    completedContainer.style.overflow = 'hidden';
                    completedContainer.style.border = '3px solid #ff6b93';
                    completedContainer.style.boxShadow = '0 10px 30px rgba(255, 107, 147, 0.3)';
                    completedContainer.style.backgroundColor = 'white';
                    
                    const completedImg = document.createElement('img');
                    completedImg.src = this.completedImage;
                    completedImg.alt = 'Puzzle completado';
                    completedImg.style.width = '100%';
                    completedImg.style.height = '100%';
                    completedImg.style.objectFit = 'contain';
                    completedImg.style.backgroundColor = 'white';
                    completedImg.style.padding = '5px';
                    completedImg.style.animation = 'fadeIn 1s ease';
                    
                    completedContainer.appendChild(completedImg);
                    board.appendChild(completedContainer);
                },
                
                reset() {
                    this.piecesPlaced = 0;
                    this.draggingPiece = null;
                    this.draggedFromSlot = null;
                    this.createPieces();
                    this.renderPieces();
                    this.setupBoard();
                    this.setupDragAndDrop();
                    this.updateStats();
                    document.querySelector('.puzzle-message').classList.remove('show');
                    
                    const board = document.querySelector('.puzzle-board');
                    board.classList.remove('completed');
                    
                    const puzzlePiecesContainer = document.querySelector('.puzzle-pieces-container');
                    if (puzzlePiecesContainer) {
                        puzzlePiecesContainer.style.opacity = '1';
                        puzzlePiecesContainer.style.height = 'auto';
                        puzzlePiecesContainer.style.padding = '';
                        puzzlePiecesContainer.style.margin = '';
                        puzzlePiecesContainer.style.display = 'block';
                        puzzlePiecesContainer.style.overflow = 'visible';
                    }
                },
                
                createHearts(count) {
                    for (let i = 0; i < count; i++) {
                        setTimeout(() => {
                            createHeart(
                                Math.random() * window.innerWidth,
                                Math.random() * window.innerHeight
                            );
                        }, i * 100);
                    }
                }
            };
            
            const puzzleObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        puzzleGame.init();
                        puzzleObserver.disconnect();
                    }
                });
            }, { threshold: 0.5 });
            
            const puzzleSection = document.querySelector('.puzzle-section');
            if (puzzleSection) puzzleObserver.observe(puzzleSection);

            // A帽adir animaciones CSS adicionales
            const style = document.createElement('style');
            style.textContent = `
                /* Animaciones para las joyas - ARREGLADO EL DISEO */
                .floating-qualities-container {
                    width: 100%;
                    max-width: 800px;
                    margin: 0 auto;
                    padding: 20px;
                }
                
                .qualities-grid {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 20px;
                    justify-items: center;
                    align-items: center;
                }
                
                @media (max-width: 768px) {
                    .qualities-grid {
                        grid-template-columns: repeat(2, 1fr);
                    }
                }
                
                @media (max-width: 480px) {
                    .qualities-grid {
                        grid-template-columns: 1fr;
                    }
                }
                
                .quality-particle {
                    width: 140px;
                    height: 140px;
                    background: linear-gradient(135deg, rgba(255, 182, 193, 0.9), rgba(255, 107, 147, 0.9));
                    border-radius: 50%;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 8px 20px rgba(255, 107, 147, 0.3);
                    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                    cursor: pointer;
                    position: relative;
                    overflow: hidden;
                    border: 3px solid rgba(255, 255, 255, 0.8);
                    animation: floatParticle 3s ease-in-out infinite;
                    animation-delay: var(--delay);
                }
                
                @keyframes floatParticle {
                    0%, 100% { transform: translateY(0) rotate(0deg); }
                    50% { transform: translateY(-15px) rotate(2deg); }
                }
                
                .quality-emoji {
                    font-size: 2.5rem;
                    margin-bottom: 8px;
                    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.7));
                }
                
                .quality-text {
                    font-size: 1rem;
                    color: white;
                    font-weight: 600;
                    text-align: center;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
                    padding: 0 10px;
                }
                
                @keyframes particleClick {
                    0% { 
                        transform: translateY(0) rotate(0deg); 
                        box-shadow: 0 8px 20px rgba(255, 107, 147, 0.3);
                    }
                    50% { 
                        transform: translateY(-20px) rotate(10deg); 
                        box-shadow: 0 0 40px rgba(255, 107, 147, 0.8);
                        filter: brightness(1.5) drop-shadow(0 0 20px white);
                    }
                    100% { 
                        transform: translateY(-5px) rotate(0deg); 
                        box-shadow: 0 12px 30px rgba(255, 107, 147, 0.5);
                    }
                }
                
                @keyframes pulseGlow {
                    0%, 100% { opacity: 0.6; transform: scale(1); }
                    50% { opacity: 0.9; transform: scale(1.1); }
                }
                
                @keyframes miniHeartFloat {
                    0% { 
                        transform: translate(-50%, -50%) scale(0); 
                        opacity: 0.8;
                    }
                    50% { 
                        transform: translate(-50%, calc(-50% - 40px)) scale(1); 
                        opacity: 1;
                    }
                    100% { 
                        transform: translate(calc(-50% + ${Math.random() * 60 - 30}px), calc(-50% - 100px)) scale(0.5); 
                        opacity: 0;
                    }
                }
                
                /* Animaciones para J煤piter - CON LNEA DE CORAZONES Y PALABRAS QUE SE MUEVEN */
                @keyframes wordClicked {
                    0% { transform: scale(1.2); }
                    50% { transform: scale(1.4); box-shadow: 0 0 35px rgba(255, 77, 141, 1); }
                    100% { transform: scale(1.2); box-shadow: 0 0 25px rgba(255, 77, 141, 0.8); }
                }
                
                @keyframes ringHeartFloat {
                    0% { 
                        transform: translate(-50%, -50%) scale(0); 
                        opacity: 1;
                    }
                    50% { 
                        transform: translate(-50%, calc(-50% - 30px)) scale(1.2); 
                        opacity: 1;
                        filter: drop-shadow(0 0 15px rgba(255, 107, 147, 0.8));
                    }
                    100% { 
                        transform: translate(-50%, calc(-50% - 80px)) scale(0.5); 
                        opacity: 0;
                    }
                }
                
                @keyframes heartRingFloat {
                    0%, 100% { 
                        transform: scale(1) rotate(0deg);
                        filter: drop-shadow(0 0 10px rgba(255, 107, 147, 0.9));
                    }
                    50% { 
                        transform: scale(1.3) rotate(180deg);
                        filter: drop-shadow(0 0 15px rgba(255, 107, 147, 1.2));
                    }
                }
                
                @keyframes heartRingRotate {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                
                .ring-heart {
                    will-change: transform, filter;
                    animation-timing-function: ease-in-out;
                }
                
                .heart-ring-container {
                    will-change: transform;
                }
                
                @keyframes progressComplete {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.7; }
                }
                
                @keyframes heartExplosionFinal {
                    0% { 
                        transform: translate(-50%, -50%) scale(1);
                        opacity: 1;
                        filter: drop-shadow(0 0 15px rgba(255, 107, 147, 0.8));
                    }
                    50% { 
                        transform: translate(-50%, -50%) scale(4);
                        opacity: 0.9;
                        filter: drop-shadow(0 0 60px rgba(255, 107, 147, 1));
                    }
                    100% { 
                        transform: translate(-50%, -50%) scale(6);
                        opacity: 0;
                        filter: drop-shadow(0 0 100px rgba(255, 107, 147, 0));
                    }
                }
                
                @keyframes tqmExplosionFinal {
                    0% { 
                        transform: translate(-50%, -50%) scale(0) rotate(0deg);
                        opacity: 1;
                    }
                    100% { 
                        transform: translate(calc(-50% + var(--explode-x)), calc(-50% + var(--explode-y))) scale(var(--scale-end)) rotate(var(--rotate));
                        opacity: 1;
                    }
                }
                
                @keyframes fadeOutFinal {
                    0% { opacity: 1; }
                    100% { opacity: 0; }
                }
                
                @keyframes planetPulse {
                    0%, 100% { 
                        box-shadow: 0 0 60px rgba(255, 107, 147, 0.6),
                                  inset 0 0 40px rgba(255, 255, 255, 0.3);
                    }
                    50% { 
                        box-shadow: 0 0 100px rgba(255, 107, 147, 0.9),
                                  inset 0 0 60px rgba(255, 255, 255, 0.5);
                    }
                }
                
                @keyframes shockwave {
                    0% { 
                        width: 0; 
                        height: 0; 
                        opacity: 0.8;
                        border-width: 3px;
                    }
                    100% { 
                        width: 500px; 
                        height: 500px; 
                        opacity: 0;
                        border-width: 1px;
                    }
                }
                
                /* Animaciones para la pregunta - TODAS SON CORRECTAS */
                @keyframes fadeInUp {
                    from { 
                        opacity: 0; 
                        transform: translateY(20px); 
                    }
                    to { 
                        opacity: 1; 
                        transform: translateY(0); 
                    }
                }
                
                /* Estilos para el contador de joyas */
                .qualities-counter {
                    text-align: center;
                    margin-top: 30px;
                }
                
                .counter-text {
                    color: #ff6b93;
                    font-size: 1rem;
                    font-weight: 500;
                    opacity: 0.8;
                    padding: 8px 16px;
                    background: rgba(255, 255, 255, 0.8);
                    border-radius: 20px;
                    display: inline-block;
                }
                
                /* Estilos para la pregunta */
                .question-section {
                    margin: 40px 0;
                    padding: 30px 20px;
                    background: rgba(255, 255, 255, 0.7);
                    border-radius: 20px;
                    box-shadow: 0 8px 25px rgba(255, 182, 193, 0.1);
                    border: 2px solid #ffe4e9;
                }
                
                .question-container {
                    max-width: 700px;
                    margin: 0 auto;
                }
                
                .question-content {
                    text-align: center;
                    margin-bottom: 40px;
                    position: relative;
                }
                
                .question-quote {
                    color: #ff6b93;
                    font-size: 2.5rem;
                    opacity: 0.6;
                    position: absolute;
                }
                
                .question-quote:first-child {
                    top: -15px;
                    left: -10px;
                }
                
                .question-quote:last-child {
                    bottom: -15px;
                    right: -10px;
                }
                
                .question-text {
                    font-size: 1.8rem;
                    color: #5a4a6a;
                    line-height: 1.6;
                    font-weight: 600;
                    padding: 0 50px;
                    font-family: 'Dancing Script', cursive;
                }
                
                .options-container {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 20px;
                    margin-bottom: 40px;
                }
                
                @media (max-width: 768px) {
                    .options-container {
                        grid-template-columns: 1fr;
                    }
                }
                
                .option {
                    background: white;
                    border: 2px solid #ffb6c1;
                    border-radius: 15px;
                    padding: 20px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    position: relative;
                    overflow: hidden;
                    box-shadow: 0 5px 15px rgba(255, 107, 147, 0.15);
                }
                
                .option:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 10px 25px rgba(255, 107, 147, 0.3);
                    border-color: #ff6b93;
                }
                
                .option-number {
                    width: 40px;
                    height: 40px;
                    background: linear-gradient(135deg, #ffb6c1, #ff6b93);
                    color: white;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    font-size: 1.2rem;
                    flex-shrink: 0;
                }
                
                .option-text {
                    color: #5a4a6a;
                    font-size: 1.2rem;
                    font-weight: 500;
                    flex-grow: 1;
                }
                
                .option-feedback {
                    display: none;
                    align-items: center;
                    gap: 10px;
                    margin-top: 15px;
                    padding-top: 15px;
                    border-top: 1px dashed #ffb6c1;
                    color: #4CAF50;
                    font-size: 0.9rem;
                    animation: fadeInUp 0.5s ease forwards;
                }
                
                .option-feedback i {
                    font-size: 1.2rem;
                    color: #4CAF50;
                }
                
                .option-feedback i.fa-check-circle {
                    color: #4CAF50;
                }
                
                .question-result {
                    display: none;
                    background: white;
                    padding: 30px;
                    border-radius: 20px;
                    text-align: center;
                    box-shadow: 0 10px 30px rgba(255, 107, 147, 0.2);
                    border: 2px solid #ffb6c1;
                    margin-bottom: 30px;
                    animation: fadeInUp 0.8s ease forwards;
                }
                
                .question-result h4 {
                    color: #ff6b93;
                    font-size: 1.8rem;
                    margin-bottom: 20px;
                    font-family: 'Dancing Script', cursive;
                }
                
                .question-result p {
                    color: #7a6a8a;
                    line-height: 1.7;
                    font-size: 1.1rem;
                    margin-bottom: 15px;
                }
                
                .question-signature {
                    text-align: center;
                    margin-top: 30px;
                }
                
                .question-signature p {
                    color: #7a6a8a;
                    font-size: 1rem;
                    margin-bottom: 5px;
                }
                
                /* Estilos generales */
                @keyframes floatHeart {
                    0% { 
                        transform: translate(0, 0) scale(1) rotate(0deg); 
                        opacity: 1; 
                    }
                    100% { 
                        transform: translate(${Math.random() * 200 - 100}px, -150px) scale(0) rotate(360deg); 
                        opacity: 0; 
                    }
                }
                
                @keyframes confettiFall {
                    0% { 
                        transform: translateY(0) rotate(0deg); 
                        opacity: 1;
                    }
                    100% { 
                        transform: translateY(100vh) rotate(720deg); 
                        opacity: 0;
                    }
                }
                
                @keyframes messageAppear {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
                
                @keyframes fadeIn {
                    from { opacity: 0; transform: scale(0.9); }
                    to { opacity: 1; transform: scale(1); }
                }
                
                .wall-texture {
                    position: absolute;
                    top: 2px;
                    left: 2px;
                    right: 2px;
                    bottom: 2px;
                    background: linear-gradient(
                        45deg,
                        transparent 25%,
                        rgba(255, 255, 255, 0.1) 25%,
                        rgba(255, 255, 255, 0.1) 50%,
                        transparent 50%,
                        transparent 75%,
                        rgba(255, 255, 255, 0.05) 75%
                    );
                    background-size: 10px 10px;
                    border-radius: 3px;
                }
                
                .jupiter-instruction {
                    margin-top: 10px;
                    font-style: italic;
                    color: #ff6b93;
                    font-weight: 500;
                    animation: pulseInstruction 2s ease-in-out infinite;
                }
                
                .signature-name {
                    font-family: 'Dancing Script', cursive;
                    font-size: 1.8rem;
                    color: #ff6b93;
                    margin-top: 5px;
                }
                
                .final-hearts {
                    margin-top: 10px;
                }
                
                .final-hearts i {
                    color: #ff6b93;
                    margin: 0 5px;
                    font-size: 1.2rem;
                }
            `;
            document.head.appendChild(style);
        });

        // Protecci贸n adicional contra clic derecho y arrastre
        document.addEventListener('DOMContentLoaded', function() {
            // Prevenir clic derecho en toda la p谩gina
            document.addEventListener('contextmenu', function(e) {
                // Permitir clic derecho solo en elementos espec铆ficos si es necesario
                if (!e.target.classList.contains('allow-context-menu')) {
                    e.preventDefault();
                    return false;
                }
            }, false);
            
            // Prevenir arrastre de im谩genes
            document.addEventListener('dragstart', function(e) {
                if (e.target.tagName === 'IMG') {
                    e.preventDefault();
                    return false;
                }
            }, false);
            
            // Prevenir selecci贸n de texto en fotos
            document.addEventListener('selectstart', function(e) {
                if (e.target.tagName === 'IMG' || 
                    e.target.classList.contains('special-photo') ||
                    e.target.classList.contains('profile-photo')) {
                    e.preventDefault();
                    return false;
                }
            }, false);
            
            // Protecci贸n adicional con atributos HTML
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                // A帽adir atributos para prevenir acciones no deseadas
                img.setAttribute('draggable', 'false');
                img.style.pointerEvents = 'none';
                
                // A帽adir overlay de protecci贸n visual (opcional)
                if (img.classList.contains('special-photo') || 
                    img.classList.contains('profile-photo')) {
                    const parent = img.parentElement;
                    if (parent && !parent.querySelector('.photo-protection')) {
                        const overlay = document.createElement('div');
                        overlay.className = 'photo-protection';
                        overlay.style.cssText = `
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            z-index: 10;
                            cursor: default;
                        `;
                        parent.style.position = 'relative';
                        parent.appendChild(overlay);
                    }
                }
            });
        });

        // Funci贸n para mostrar mensaje cuando intentan copiar
        document.addEventListener('copy', function(e) {
            // Mostrar alerta solo si est谩n copiando contenido de fotos
            const selection = window.getSelection();
            const selectedText = selection.toString();
            
            // Si hay texto seleccionado, permitir copia normal
            // Solo prevenir si est谩n intentando copiar algo relacionado con im谩genes
            if (selection.containsNode(document.querySelector('.photo-placeholder'), true) ||
                selection.containsNode(document.querySelector('.photo-frame'), true)) {
                e.preventDefault();
                
                // Opcional: Mostrar mensaje educado
                const message = document.createElement('div');
                message.textContent = '隆Las fotos son especiales y no se pueden copiar! ';
                message.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(255, 107, 139, 0.9);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    z-index: 10000;
                    font-family: 'Dancing Script', cursive;
                    font-size: 1.2rem;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                    animation: fadeInOut 2s ease;
                `;
                
                document.body.appendChild(message);
                
                setTimeout(() => {
                    message.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => message.remove(), 500);
                }, 1500);
                
                return false;
            }
        });

        // Animaci贸n para el mensaje
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translate(-50%, -60%); }
                15% { opacity: 1; transform: translate(-50%, -50%); }
                85% { opacity: 1; transform: translate(-50%, -50%); }
                100% { opacity: 0; transform: translate(-50%, -40%); }
            }
            
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>